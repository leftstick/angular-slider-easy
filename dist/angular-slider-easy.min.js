!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){var t=e.module("angular-slider-easy",[]),n='<div class="slider-handle"></div>',o={start:0,end:100,decimals:0,outFormatter:function(e,t){return e.point?"Point is: "+e.point:"Range is: "+(e.end-e.start).toFixed(t)}},r=function(e,t){var n=e||{};if(!t||"object"!=typeof t)return n;for(var o in t)!n[o]&&void 0!==typeof t[o]&null!==t[o]&&(n[o]=t[o]);return n},i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a=function(e){return e===parseInt(e)&&e===Math.abs(e)},s=function(e){if(!i(e.start))throw new Error("start must be number");if(!i(e.end))throw new Error("end must be number");if(e.start>=e.end)throw new Error("end must be bigger than start");if(!a(e.decimals))throw new Error("decimals must be +int");if(e.handles&&"undefined"!=typeof e.handles[0]){if(!i(e.handles[0]))throw new Error("handles[0] must be number");if(e.handles[0]<e.start||e.handles[0]>e.end)throw new Error("handles[0] must be in [start, end]")}if(e.handles&&"undefined"!=typeof e.handles[1]){if(!i(e.handles[1]))throw new Error("handles[1] must be number");if(e.handles[1]<e.start||e.handles[1]>e.end)throw new Error("handles[1] must be in [start, end]")}},u=function(e){return e.touches&&e.touches.length>0?e.touches[0]:window.jQuery&&window.jQuery.Event&&e instanceof window.jQuery.Event&&e.originalEvent.touches&&e.originalEvent.touches.length>0?e.originalEvent.touches[0]:e},d=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},l=function(e){return parseInt(e.css("left"))},c=function(e,t,n){return n/e*t},f=function(e,t,n,o,r){return(n/t*e+r.start).toFixed(o)},h=function(e,t,n){var o=l(t);if(!n)return void e.css("left",o-3-e.prop("clientWidth")/2+"px");var r=l(n),i=Math.max(o,r),a=Math.min(o,r);e.css("left",(i-a)/2+a-3-e.prop("clientWidth")/2+"px")},p=function(e,t,n,o,r,i,a){i?w(e,t,n,o,r,i,a):o.point=f(e,t,l(r),n,a)},v=function(e,t){e.output=t.outFormatter(e.value)},m=function(e,t,n){var o=l(t),r=l(n),i=Math.max(o,r),a=Math.min(o,r),s=i-a;e.css("left",a+"px").css("width",s+"px")},w=function(e,t,n,o,r,i,a){var s=l(r),u=l(i),d=Math.max(s,u),c=Math.min(s,u);o.start=f(e,t,c,n,a),o.end=f(e,t,d,n,a)},x=function(t){return{restrict:"E",scope:{option:"=",value:"="},link:function(i,a){var f=e.element(document),w=e.element(window),x=r(i.option,o);s(x),x.handles||(x.handles=[],x.handles[0]=x.start);var y,b,g,E,M,F,j,$,P,Q,W,k,D,I=0,N={},X=function(){y=e.element(a.children()[0]),b=e.element(y.children()[0]),g=e.element(y.children()[1]),E=e.element(b.children()[0]),M=x.end-x.start,F=y.prop("clientWidth"),j=c(M,F,0),$=c(M,F,x.end-x.start),P||(P=e.element(n),b.append(P),P.attr("id","handle0")),W=c(M,F,x.handles[0]-x.start),"undefined"!=typeof i.value.start?(P.css("left",c(M,F,i.value.start)+"px"),N.handle0=c(M,F,i.value.start)):"undefined"!=typeof i.value.point?(P.css("left",c(M,F,i.value.point)+"px"),N.handle0=c(M,F,i.value.point)):(P.css("left",W+"px"),N.handle0=W),h(g,P),x.handles[1]&&(Q||(Q=e.element(n),b.append(Q),Q.attr("id","handle1")),k=c(M,F,x.handles[1]-x.start),"undefined"!=typeof i.value.end?(Q.css("left",c(M,F,i.value.end)+"px"),N.handle1=c(M,F,i.value.end)):(Q.css("left",k+"px"),N.handle1=k),h(g,P,Q),m(E,P,Q)),p(M,F,x.decimals,i.value,P,Q,x),v(i,x)},q=function(e){var t=u(e),n=N[D.attr("id")]+t.clientX-I;n>=j&&$>=n&&(D.css("left",n+"px"),Q&&m(E,P,Q),h(g,P,Q),i.$apply(function(){p(M,F,x.decimals,i.value,P,Q,x),v(i,x)})),d(e)},z=function(e){I=0,N[D.attr("id")]=l(D),D=void 0,f.off("mousemove touchmove",q),f.off("mouseup touchend",z),d(e)},R=function(e){return function(t){var n=u(t);D=e,I=n.clientX,f.on("mousemove touchmove",q),f.on("mouseup touchend",z),d(t)}};t(X).then(function(){var e=R(P),t=R(Q);P.on("mousedown touchstart",e),Q&&Q.on("mousedown touchstart",t)}),w.on("resize",function(){t(function(){X()},500)}),i.$on("$destroy",function(){P.off("mousedown touchstart",start0),Q&&Q.off("mousedown touchstart",start1),f.off("mousemove touchmove",q),f.off("mouseup touchend",z)})},template:'<div class="slider"><div class="slider-track"><div class="slider-selection"></div></div><div class="hint"><div class="hint-arrow"></div><div class="hint-inner">{{ output }}</div></div></div>'}};return t.directive("sliderEasy",["$timeout",x]),"angular-slider-easy"});